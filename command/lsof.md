## lsof 查看进程打开的文件

lsof 全名为list open files, 也就是列举系统中已经被打开的文件，通过lsof命令可以根据文件找到对应的进程信息，也可以根据进程信息找到对应进程打开的文件

## 常用选项


|参数选项|解释说明|
|:---|:---|
|-c<进程名>|显示指定的进程名所打开的文件|
|-p<进程号>|显示指定的进程号所打开的文件|
|-i|通过监听指定的协议，端口和主机信息，显示符合条件的进程信息|
|-u|显示指定用户使用的文件|
|-U|显示所有socket文件|

## 使用范例

1. 显示使用文件的进程

```shell
lsof 文件名
```

2. 显示指定进程所打开的文件

```shell
lsof -c rsyslog
```

3. 显示指定进程号所打开的文件

```shell
lsof -p 1227
```

4. 监听指定的协议，端口和主机等信息，现实符合条件的进程信息

```shell
lsof -i [46] [protocol][@hostname][:service| port]

# 显示所有TCP网络链接的进程信息
lsof -i tcp

# 显示端口为22的进程

lsof -i :22

# 显示同时TCP和端口为22的进程
lsof -i tcp：22
```

5. 显示指定用户使用的文件

```shell
lsof -u linyimin
```

6. 显示所有的socket文件

```shell
lsof -U

```
